
<form style="align-items: center;">
  <div class="mx-4 pt-3 my-3 p-3 rounded shadow" align="center">

    <h1 class="h4 mb-3 text-center"
        *ngIf="!fornecedor.id || fornecedor == null">
      Cadastrar Fornecedor
    </h1>

    <h1 class="h4 mb-3 text-center"
        *ngIf="fornecedor.id">
      Alterar Fornecedor
    </h1>

    <!--EMPRESA-->


    <div class="center-items-custom">
      <mat-form-field class="mid-center">
        <input matInput type="text"
               placeholder="Razão Social"
               name="razaoSocial"
               [formControl]="razaoSocialFc"
               [errorStateMatcher]="matcher" />

        <mat-error *ngIf="razaoSocialFc.hasError('required')">
          Razão Social é <strong>obrigatorio!</strong>
        </mat-error>
      </mat-form-field>
    </div>

    <div class="center-items-custom">
      <mat-form-field class="mid-center">
        <input matInput type="text"
               placeholder="Nome Fantasia"
               name="nomeFantasia"
               [formControl]="nomeFantasiaFc"
               [errorStateMatcher]="matcher" />

        <mat-error *ngIf="nomeFantasiaFc.hasError('required')">
          Nome Fantasia é <strong>obrigatorio!</strong>
        </mat-error>
      </mat-form-field>
    </div>


    <div class="center-items-custom">
      <mat-form-field class="mid-center">
        <input matInput type="text"
               placeholder="CNPJ"
               name="cnpj"
               [formControl]="cnpjFc"
               [errorStateMatcher]="matcher"
               [textMask]="{mask: maskCnpj}" />
        <!--<mat-hint>Errors appear instantly!</mat-hint>-->

        <mat-error *ngIf="cnpjFc.hasError('required')">
          CNPJ é <strong>obrigatorio!</strong>
        </mat-error>

      </mat-form-field>
    </div>


    <div class="center-items-custom">
      <mat-form-field class="mid-center">
        <input matInput type="text"
               placeholder="Inscrição Estadual"
               name="inscricaoEstadual"
               [formControl]="inscricaoEstadualFc"
               [errorStateMatcher]="matcher" />

        <mat-error *ngIf="inscricaoEstadualFc.hasError('required')">
          Inscrição Estadual é <strong>obrigatorio!</strong>
        </mat-error>
      </mat-form-field>
    </div>
    <div class="center-items-custom">
      <mat-form-field class="mid-center">
        <input matInput type="text"
               placeholder="Inscrição Municipal"
               name="inscricaoMunicipal"
               [formControl]="inscricaoMunicipalFc"
               [errorStateMatcher]="matcher" />

        <mat-error *ngIf="inscricaoMunicipalFc.hasError('required')">
          Inscrição Municipal é <strong>obrigatorio!</strong>
        </mat-error>
      </mat-form-field>

    </div>

    <div class="center-items-custom">
      <mat-form-field>
        <mat-label>Tipo Do Fornecedor</mat-label>
        <mat-select [(ngModel)]="selectedTipoFornecedor" [compareWith]="compareFn" required>

          <mat-option *ngFor="let tipo of tipoFornecedores" [value]="tipo">
            {{tipo.tipo}}
          </mat-option>
        </mat-select>
        <mat-error *ngIf="tipoFornecedorFc.hasError('required')">
          Tipo é <strong>obrigatorio</strong>
        </mat-error>
      </mat-form-field>
    </div>

    <div class="center-items-custom">
      <mat-form-field class="mid-center">
        <input matInput type="text"
               placeholder="Celular"
               name="celular"
               [formControl]="celularFc"
               [errorStateMatcher]="matcher"
               [textMask]="{mask: maskCel}" />
        <!--<mat-hint>Errors appear instantly!</mat-hint>-->

      </mat-form-field>
    </div>
    <div class="center-items-custom">
      <mat-form-field class="mid-center">
        <input matInput type="text"
               placeholder="Telefone"
               name="telefone"
               [formControl]="telefoneFc"
               [errorStateMatcher]="matcher"
               [textMask]="{mask: maskTel}" />
        <!--<mat-hint>Errors appear instantly!</mat-hint>-->

      </mat-form-field>
    </div>










    <!--FIM EMPRESA-->
    <!--ENDERECO -->
    <div class="center-items-custom">
      <mat-form-field class="mid-center">
        <input matInput type="text"
               placeholder="CEP"
               name="CEP"
               [formControl]="cepFc"
               [errorStateMatcher]="matcher"
               [textMask]="{mask: mask}"
               (focusout)="obterEndereco()" />

        <!--<mat-hint>Errors appear instantly!</mat-hint>-->

        <mat-error *ngIf="cepFc.hasError('required')">
          <strong>DIGITE O CEP!!</strong>
        </mat-error>
      </mat-form-field>

      <!--<button mat-raised-button class="px-5 mx-3 shadow-button rounded shadow"
            type="submit" (click)="obterEndereco()"
            [disabled]="enderecoFc.invalid">
      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" *ngIf="ativar_spinner"></span>
      CEP
    </button>-->

    </div>

    <div class="center-items-custom">
      <mat-form-field class="mid-center">
        <input matInput type="text"
               placeholder="Logradouro"
               name="logradouro"
               [formControl]="logradouroFc"
               [errorStateMatcher]="matcher" />

        <mat-error *ngIf="logradouroFc.hasError('required')">
          <strong>INVALIDO</strong>
        </mat-error>


      </mat-form-field>


      <mat-form-field class="mid-center">
        <input matInput type="text"
               placeholder="Localidade"
               name="localidade"
               [formControl]="localidadeFc"
               [errorStateMatcher]="matcher" />

        <mat-error *ngIf="localidadeFc.hasError('required')">
          <strong>INVALIDO</strong>
        </mat-error>


      </mat-form-field>


      <mat-form-field class="mid-center">
        <input matInput type="text"
               placeholder="Estado"
               name="uf"
               [formControl]="ufFc"
               [errorStateMatcher]="matcher" />

        <mat-error *ngIf="ufFc.hasError('required')">
          <strong>INVALIDO</strong>
        </mat-error>


      </mat-form-field>

    </div>



    <!--ENDERECO FIM -->


    <div class="center-items-custom">
      <mat-form-field class="mid-center">
        <input matInput type="number"
               placeholder="Nº Endereço"
               name="numeroEndereco"
               [formControl]="numeroEnderecoFc"
               [errorStateMatcher]="matcher" />
        <!--<mat-hint>Errors appear instantly!</mat-hint>-->

        <mat-error *ngIf="numeroEnderecoFc.hasError('required')">
          Nº do endereço é <strong>obrigatorio!</strong>
        </mat-error>
        <!--<mat-error *ngIf="descricaoFc.hasError('minlength')">
        No minimo <strong>10 caracteres!</strong>
      </mat-error>-->

      </mat-form-field>
    </div>


    <!--CONTATOS-->
    <!--<div formArrayName="contatos">
    <div formGroupName="0">
      <div class="center-items-custom">
        <mat-form-field class="mid-center">
          <input matInput type="text"
                 placeholder="Nome"
                 name="nomeContato"
                 [formControl]="NomFc"
                 [errorStateMatcher]="matcher" />

          <mat-error *ngIf="numeroEnderecoFc.hasError('required')">
            Nº do endereço é <strong>obrigatorio!</strong>
          </mat-error>

        </mat-form-field>
      </div>



    </div>
  </div>-->
    <!--FIM CONTATOS-->

    <div class="container-fluid py-3">
      <div class="center-items-custom">



        <table mat-table [dataSource]="dataSourceContato" matSort class="mat-elevation-z8 px-2 mb-3">

          <!-- NOME -->
          <ng-container matColumnDef="nome">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Nome </th>
            <td mat-cell *matCellDef="let element"> {{element.nome}}</td>
          </ng-container>

          <!-- CARGO -->
          <ng-container matColumnDef="cargo">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Cargo </th>
            <td mat-cell *matCellDef="let element"> {{element.cargo}}</td>
          </ng-container>

          <!-- EMAIL -->
          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
            <td mat-cell *matCellDef="let element"> {{element.email}}</td>
          </ng-container>

          <!-- TELEFONE -->
          <ng-container matColumnDef="telefone">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Telefone </th>
            <td mat-cell *matCellDef="let element"> {{element.telefone}}</td>
          </ng-container>


          <!--EDITAR-->

          <ng-container matColumnDef="editar">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Editar </th>
            <td mat-cell *matCellDef="let element">
              <button mat-icon-button color="accent" (click)="editarContato(element)">
                <mat-icon class="mat-18">system_update</mat-icon>
              </button>
            </td>
          </ng-container>

          <!--FIM EDITAR-->
          <!--DELETE-->

          <ng-container matColumnDef="deletar">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> Deletar </th>
            <td mat-cell *matCellDef="let element">
              <button mat-icon-button color="warn" (click)="deletarContato(element)">
                <mat-icon class="mat-18">delete</mat-icon>
              </button>
            </td>
          </ng-container>

          <!--FIM DELETE-->

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <button mat-raised-button class=" py-2 mx-3 shadow-button rounded shadow" (click)="openDialogContato()">
          Adicionar Contato
        </button>

      </div>
    </div>


      <div class="container-fluid">

        <button mat-raised-button class="px-5 mx-3 shadow-button rounded shadow"
                type="submit" (click)="cadastrar()"
                [disabled]="ativar_spinner ||
              ( cepFc.invalid || logradouroFc.invalid || localidadeFc.invalid || ufFc.invalid || cnpjFc.invalid || nomeFantasiaFc.invalid || numeroEnderecoFc.invalid || observacaoFc.invalid)"
                *ngIf="!fornecedor.id || fornecedor == null">
          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" *ngIf="ativar_spinner"></span>
          Cadastrar
        </button>

        <button mat-raised-button class="px-5 mx-3 shadow-button rounded shadow"
                type="submit" (click)="cadastrar()"
                [disabled]="ativar_spinner ||
              ( cepFc.invalid )"
                *ngIf="fornecedor.id">
          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" *ngIf="ativar_spinner"></span>
          Alterar
        </button>


        <span></span>

        <button mat-raised-button class="px-5 mx-3" color="warn" type="submit" [routerLink]='["/pesquisa-fornecedor"]'>
          Cancelar
        </button>

      </div>

      <div class="alert alert-danger" *ngIf="mensagem">
        {{mensagem}}
      </div>


    </div>
</form>
